{% extends 'base.html' %}

{% block title %}
    {% if article %}
        Modify Article
    {% else %}
        Compose Article
    {% endif %}
{% endblock %}

{% block script %}
<script 
    type="text/javascript" 
    src="https://cdn.ckeditor.com/ckeditor5/21.0.0/classic/ckeditor.js" 
    defer>
</script>
<script type="text/javascript" src="{% static 'init-editor.js' %}" defer></script>
{% endblock %}

{% block header %}
<div class="page-title">
    {% if article %}
        Modify Article
    {% else %}
        Compose New Article
    {% endif %}
</div>
<div>Writing as {{user.username|escape}}</div>
{% endblock %}

{% block content %}
<div class="page-content">
    <form method="POST" enctype="application/x-www-form-urlencoded">
        <input 
            type="text" 
            name="title" 
            placeholder="Your Title Here"
            {% __pypugjs_attrs terse=True, attrs=[('value',(article))] %} ? `$article.title` :="{}" 
            class="compose-title">
        <textarea id="editor" name="content">
            {% if article %}article.content{% endif %}
        </textarea>
        <button type="submit">Submit Article</button>
    </form>
</div>
{% endblock %}
